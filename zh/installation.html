

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å®‰è£…æŒ‡å— &mdash; ModbusLink 1.2.0 æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d1fcaa3c"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/translations.js?v=beaddf03"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="genindex.html" />
    <link rel="search" title="æœç´¢" href="search.html" />
    <link rel="next" title="å¿«é€Ÿå¼€å§‹" href="quickstart.html" />
    <link rel="prev" title="ModbusLink æ–‡æ¡£" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="index.html" class="icon icon-home">
            ModbusLink
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="æœç´¢æ–‡æ¡£" aria-label="æœç´¢æ–‡æ¡£" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="å¯¼èˆªèœå•">
              <p class="caption" role="heading"><span class="caption-text">å¿«é€Ÿå…¥é—¨</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">å®‰è£…æŒ‡å—</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id3">ç³»ç»Ÿè¦æ±‚</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">åŸºç¡€è¦æ±‚</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">ä¾èµ–åº“</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">å¿«é€Ÿå®‰è£…</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pypi">ä»PyPIå®‰è£… (æ¨è)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">éªŒè¯å®‰è£…</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id8">é«˜çº§å®‰è£…</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">ä»æºç å®‰è£…</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker">Dockerå®‰è£…</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id10">ç¯å¢ƒé…ç½®</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux-macos">ä¸²å£æƒé™ (Linux/macOS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windowsä¸²å£é…ç½®</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id17">æ•…éšœæ’é™¤</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id18">å¸¸è§å®‰è£…é—®é¢˜</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">ä¸²å£é—®é¢˜è¯Šæ–­</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">ç½‘ç»œé—®é¢˜è¯Šæ–­</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id21">æ€§èƒ½è°ƒä¼˜</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">ç”Ÿäº§ç¯å¢ƒé…ç½®</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">å†…å­˜ä¼˜åŒ–</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id24">å‡çº§æŒ‡å—</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">ä»æ—§ç‰ˆæœ¬å‡çº§</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id26">ä¸‹ä¸€æ­¥</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">å¿«é€Ÿå¼€å§‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id4">30ç§’å¿«é€Ÿä½“éªŒ</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id5">ä¸»æµä¼ è¾“æ–¹å¼</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id6">é«˜çº§æ•°æ®ç±»å‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id7">é«˜æ€§èƒ½å¼‚æ­¥æ“ä½œ</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id8">æœ¬åœ°æµ‹è¯•ç¯å¢ƒ</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id9">é”™è¯¯å¤„ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id10">ä¸‹ä¸€æ­¥</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">æ¶æ„è®¾è®¡</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ç”¨æˆ·æŒ‡å—</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">ç”¨æˆ·æŒ‡å—</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ç¤ºä¾‹å’Œå®è·µ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">ç¤ºä¾‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html">æœ€ä½³å®è·µæŒ‡å—</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id3">è¿æ¥ç®¡ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id6">é”™è¯¯å¤„ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id9">æ€§èƒ½ä¼˜åŒ–</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id12">æ•°æ®éªŒè¯</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id15">ç›‘æ§å’Œè¯Šæ–­</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id17">é…ç½®ç®¡ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id18">ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id21">æµ‹è¯•ç­–ç•¥</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html#id24">æ€»ç»“</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">æ•…éšœæ’é™¤æŒ‡å—</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id3">è¿æ¥é—®é¢˜</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id11">åè®®é”™è¯¯</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id13">æ€§èƒ½é—®é¢˜</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id16">æ•°æ®é—®é¢˜</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id19">è°ƒè¯•å’Œç›‘æ§</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id23">å¸¸è§é”™è¯¯æ±‡æ€»</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id25">é¢„é˜²æªæ–½</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html#id27">è·å–å¸®åŠ©</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APIæ–‡æ¡£</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API å‚è€ƒ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="ç§»åŠ¨ç‰ˆå¯¼èˆªèœå•"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ModbusLink</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="é¡µé¢å¯¼èˆª">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">å®‰è£…æŒ‡å—</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>å®‰è£…æŒ‡å—<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h1>
<nav class="contents local" id="id2">
<p class="topic-title">æœ¬é¡µå†…å®¹</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id3" id="id27">ç³»ç»Ÿè¦æ±‚</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id28">åŸºç¡€è¦æ±‚</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id29">ä¾èµ–åº“</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id6" id="id30">å¿«é€Ÿå®‰è£…</a></p>
<ul>
<li><p><a class="reference internal" href="#pypi" id="id31">ä»PyPIå®‰è£… (æ¨è)</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id32">éªŒè¯å®‰è£…</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8" id="id33">é«˜çº§å®‰è£…</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id34">ä»æºç å®‰è£…</a></p></li>
<li><p><a class="reference internal" href="#docker" id="id35">Dockerå®‰è£…</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id10" id="id36">ç¯å¢ƒé…ç½®</a></p>
<ul>
<li><p><a class="reference internal" href="#linux-macos" id="id37">ä¸²å£æƒé™ (Linux/macOS)</a></p></li>
<li><p><a class="reference internal" href="#windows" id="id38">Windowsä¸²å£é…ç½®</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id17" id="id39">æ•…éšœæ’é™¤</a></p>
<ul>
<li><p><a class="reference internal" href="#id18" id="id40">å¸¸è§å®‰è£…é—®é¢˜</a></p></li>
<li><p><a class="reference internal" href="#id19" id="id41">ä¸²å£é—®é¢˜è¯Šæ–­</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id42">ç½‘ç»œé—®é¢˜è¯Šæ–­</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id21" id="id43">æ€§èƒ½è°ƒä¼˜</a></p>
<ul>
<li><p><a class="reference internal" href="#id22" id="id44">ç”Ÿäº§ç¯å¢ƒé…ç½®</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id45">å†…å­˜ä¼˜åŒ–</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id24" id="id46">å‡çº§æŒ‡å—</a></p>
<ul>
<li><p><a class="reference internal" href="#id25" id="id47">ä»æ—§ç‰ˆæœ¬å‡çº§</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id26" id="id48">ä¸‹ä¸€æ­¥</a></p></li>
</ul>
</nav>
<section id="id3">
<h2><a class="toc-backref" href="#id27" role="doc-backlink">ç³»ç»Ÿè¦æ±‚</a><a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h2>
<section id="id4">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">åŸºç¡€è¦æ±‚</a><a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ç»„ä»¶</p></th>
<th class="head"><p>è¦æ±‚</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Pythonç‰ˆæœ¬</strong></p></td>
<td><p>Python 3.9+ ï¼ˆæ¨è 3.11+ï¼‰</p></td>
</tr>
<tr class="row-odd"><td><p><strong>æ“ä½œç³»ç»Ÿ</strong></p></td>
<td><p>Windows 10+, Linux (Ubuntu 18.04+), macOS 10.15+</p></td>
</tr>
<tr class="row-even"><td><p><strong>å†…å­˜</strong></p></td>
<td><p>æœ€å°‘ 100MB RAM</p></td>
</tr>
<tr class="row-odd"><td><p><strong>å­˜å‚¨ç©ºé—´</strong></p></td>
<td><p>çº¦ 10MB ç£ç›˜ç©ºé—´</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">ä¾èµ–åº“</a><a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h3>
<p><strong>å¿…éœ€ä¾èµ–</strong></p>
<ul class="simple">
<li><p><strong>Pythonæ ‡å‡†åº“</strong>: asyncio, threading, struct, socket</p></li>
<li><p><strong>æ— å¤–éƒ¨ä¾èµ–</strong>: æ ¸å¿ƒåŠŸèƒ½æ— éœ€é¢å¤–å®‰è£…åŒ…</p></li>
</ul>
<p><strong>å¯é€‰ä¾èµ–</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä¸²å£é€šä¿¡æ”¯æŒ (RTU/ASCII)</span>
pip<span class="w"> </span>install<span class="w"> </span>pyserial&gt;<span class="o">=</span><span class="m">3</span>.5

<span class="c1"># å¼‚æ­¥ä¸²å£æ”¯æŒ</span>
pip<span class="w"> </span>install<span class="w"> </span>pyserial-asyncio&gt;<span class="o">=</span><span class="m">0</span>.6

<span class="c1"># å¼€å‘å·¥å…·</span>
pip<span class="w"> </span>install<span class="w"> </span>pytest&gt;<span class="o">=</span><span class="m">7</span>.0<span class="w"> </span>black&gt;<span class="o">=</span><span class="m">22</span>.0<span class="w"> </span>ruff&gt;<span class="o">=</span><span class="m">0</span>.1.0
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">å¿«é€Ÿå®‰è£…</a><a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h2>
<section id="pypi">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">ä»PyPIå®‰è£… (æ¨è)</a><a class="headerlink" href="#pypi" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åŸºç¡€å®‰è£…</span>
pip<span class="w"> </span>install<span class="w"> </span>modbuslink

<span class="c1"># åŒ…å«ä¸²å£æ”¯æŒ</span>
pip<span class="w"> </span>install<span class="w"> </span>modbuslink<span class="o">[</span>serial<span class="o">]</span>

<span class="c1"># åŒ…å«å¼€å‘ä¾èµ–</span>
pip<span class="w"> </span>install<span class="w"> </span>modbuslink<span class="o">[</span>dev<span class="o">]</span>

<span class="c1"># å®Œæ•´å®‰è£…ï¼ˆæ‰€æœ‰åŠŸèƒ½ï¼‰</span>
pip<span class="w"> </span>install<span class="w"> </span>modbuslink<span class="o">[</span>all<span class="o">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">å¤‡æ³¨</p>
<p>å¦‚æœæ‚¨åªéœ€è¦TCPåŠŸèƒ½ï¼ŒåŸºç¡€å®‰è£…å³å¯ã€‚ä¸²å£åŠŸèƒ½éœ€è¦å®‰è£… <code class="docutils literal notranslate"><span class="pre">pyserial</span></code> ä¾èµ–ã€‚</p>
</div>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id32" role="doc-backlink">éªŒè¯å®‰è£…</a><a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">modbuslink</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ModbusLinkç‰ˆæœ¬: </span><span class="si">{</span><span class="n">modbuslink</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># æ£€æŸ¥å¯ç”¨ç»„ä»¶</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">modbuslink</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModbusClient</span><span class="p">,</span> <span class="n">TcpTransport</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âœ… TCPåŠŸèƒ½å¯ç”¨&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">modbuslink</span><span class="w"> </span><span class="kn">import</span> <span class="n">RtuTransport</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âœ… RTUåŠŸèƒ½å¯ç”¨&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âŒ RTUåŠŸèƒ½ä¸å¯ç”¨ - éœ€è¦å®‰è£…pyserial&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">é«˜çº§å®‰è£…</a><a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h2>
<section id="id9">
<h3><a class="toc-backref" href="#id34" role="doc-backlink">ä»æºç å®‰è£…</a><a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h3>
<p><strong>å¼€å‘è€…å®‰è£…</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å…‹éš†ä»“åº“</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Miraitowa-la/ModbusLink.git
<span class="nb">cd</span><span class="w"> </span>ModbusLink

<span class="c1"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv

<span class="c1"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
<span class="c1"># Windows:</span>
venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
<span class="c1"># Linux/macOS:</span>
<span class="nb">source</span><span class="w"> </span>venv/bin/activate

<span class="c1"># å®‰è£…ä¸ºå¯ç¼–è¾‘åŒ…</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;.[dev]&quot;</span>
</pre></div>
</div>
<p><strong>ç‰¹å®šç‰ˆæœ¬å®‰è£…</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># å®‰è£…ç‰¹å®šç‰ˆæœ¬</span>
pip<span class="w"> </span>install<span class="w"> </span><span class="nv">modbuslink</span><span class="o">==</span><span class="m">1</span>.0.0

<span class="c1"># å®‰è£…é¢„å‘å¸ƒç‰ˆæœ¬</span>
pip<span class="w"> </span>install<span class="w"> </span>--pre<span class="w"> </span>modbuslink

<span class="c1"># ä»GitHubå®‰è£…æœ€æ–°ç‰ˆ</span>
pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/Miraitowa-la/ModbusLink.git
</pre></div>
</div>
</section>
<section id="docker">
<h3><a class="toc-backref" href="#id35" role="doc-backlink">Dockerå®‰è£…</a><a class="headerlink" href="#docker" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-dockerfile notranslate"><div class="highlight"><pre><span></span><span class="c"># Dockerfileç¤ºä¾‹</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">python:3.11-slim</span>

<span class="c"># å®‰è£…ModbusLink</span>
<span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>modbuslink<span class="o">[</span>all<span class="o">]</span>

<span class="c"># å¤åˆ¶åº”ç”¨ä»£ç </span>
<span class="k">COPY</span><span class="w"> </span>.<span class="w"> </span>/app
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>

<span class="c"># è¿è¡Œåº”ç”¨</span>
<span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;your_modbus_app.py&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="id10">
<h2><a class="toc-backref" href="#id36" role="doc-backlink">ç¯å¢ƒé…ç½®</a><a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h2>
<section id="linux-macos">
<h3><a class="toc-backref" href="#id37" role="doc-backlink">ä¸²å£æƒé™ (Linux/macOS)</a><a class="headerlink" href="#linux-macos" title="Link to this heading">ïƒ</a></h3>
<p><strong>Ubuntu/Debian</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ·»åŠ ç”¨æˆ·åˆ°dialoutç»„</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>dialout<span class="w"> </span><span class="nv">$USER</span>

<span class="c1"># é‡æ–°ç™»å½•ä½¿æƒé™ç”Ÿæ•ˆ</span>
<span class="c1"># æˆ–ä¸´æ—¶åˆ‡æ¢ç»„</span>
newgrp<span class="w"> </span>dialout

<span class="c1"># æŸ¥çœ‹ä¸²å£è®¾å¤‡</span>
ls<span class="w"> </span>-la<span class="w"> </span>/dev/ttyUSB*<span class="w"> </span>/dev/ttyACM*
</pre></div>
</div>
<p><strong>CentOS/RHEL</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ·»åŠ ç”¨æˆ·åˆ°uucpç»„</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>uucp<span class="w"> </span><span class="nv">$USER</span>

<span class="c1"># é‡æ–°ç™»å½•</span>
</pre></div>
</div>
<p><strong>macOS</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥çœ‹å¯ç”¨ä¸²å£</span>
ls<span class="w"> </span>/dev/cu.*

<span class="c1"># é€šå¸¸æ— éœ€ç‰¹æ®Šæƒé™é…ç½®</span>
</pre></div>
</div>
</section>
<section id="windows">
<h3><a class="toc-backref" href="#id38" role="doc-backlink">Windowsä¸²å£é…ç½®</a><a class="headerlink" href="#windows" title="Link to this heading">ïƒ</a></h3>
<ol class="arabic simple">
<li><p><a href="#id11"><span class="problematic" id="id12">**</span></a>æŸ¥çœ‹è®¾å¤‡ç®¡ç†å™¨**ä¸­çš„ç«¯å£ä¿¡æ¯</p></li>
<li><p><a href="#id13"><span class="problematic" id="id14">**</span></a>ç¡®è®¤COMç«¯å£å·**ï¼ˆå¦‚ COM1, COM3ï¼‰</p></li>
<li><p><a href="#id15"><span class="problematic" id="id16">**</span></a>æ£€æŸ¥é©±åŠ¨ç¨‹åº**æ˜¯å¦æ­£ç¡®å®‰è£…</p></li>
<li><p><strong>é˜²ç«å¢™è®¾ç½®</strong>ï¼šç¡®ä¿Pythonåº”ç”¨æœ‰ç½‘ç»œæƒé™ï¼ˆTCPåŠŸèƒ½ï¼‰</p></li>
</ol>
</section>
</section>
<section id="id17">
<h2><a class="toc-backref" href="#id39" role="doc-backlink">æ•…éšœæ’é™¤</a><a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h2>
<section id="id18">
<h3><a class="toc-backref" href="#id40" role="doc-backlink">å¸¸è§å®‰è£…é—®é¢˜</a><a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h3>
<p><strong>ImportError: No module named â€˜serialâ€™</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># è§£å†³æ–¹æ¡ˆï¼šå®‰è£…pyserial</span>
pip<span class="w"> </span>install<span class="w"> </span>pyserial
</pre></div>
</div>
<p><strong>Permission denied on serial port</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linuxè§£å†³æ–¹æ¡ˆ</span>
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">666</span><span class="w"> </span>/dev/ttyUSB0<span class="w">  </span><span class="c1"># ä¸´æ—¶è§£å†³</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>dialout<span class="w"> </span><span class="nv">$USER</span><span class="w">  </span><span class="c1"># æ°¸ä¹…è§£å†³</span>
</pre></div>
</div>
<p><strong>ModuleNotFoundError: No module named â€˜modbuslinkâ€™</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ£€æŸ¥å®‰è£…çŠ¶æ€</span>
pip<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>modbuslink

<span class="c1"># é‡æ–°å®‰è£…</span>
pip<span class="w"> </span>uninstall<span class="w"> </span>modbuslink
pip<span class="w"> </span>install<span class="w"> </span>modbuslink
</pre></div>
</div>
<p><strong>ç‰ˆæœ¬å†²çª</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># åˆ›å»ºå¹²å‡€çš„è™šæ‹Ÿç¯å¢ƒ</span>
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>clean_env
<span class="nb">source</span><span class="w"> </span>clean_env/bin/activate<span class="w">  </span><span class="c1"># Linux/macOS</span>
clean_env<span class="se">\S</span>cripts<span class="se">\a</span>ctivate<span class="w">     </span><span class="c1"># Windows</span>
pip<span class="w"> </span>install<span class="w"> </span>modbuslink
</pre></div>
</div>
</section>
<section id="id19">
<h3><a class="toc-backref" href="#id41" role="doc-backlink">ä¸²å£é—®é¢˜è¯Šæ–­</a><a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h3>
<p><strong>æ£€æŸ¥ä¸²å£å¯ç”¨æ€§</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">serial.tools.list_ports</span>

<span class="c1"># åˆ—å‡ºæ‰€æœ‰ä¸²å£</span>
<span class="n">ports</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">list_ports</span><span class="o">.</span><span class="n">comports</span><span class="p">()</span>
<span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ç«¯å£: </span><span class="si">{</span><span class="n">port</span><span class="o">.</span><span class="n">device</span><span class="si">}</span><span class="s2">, æè¿°: </span><span class="si">{</span><span class="n">port</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>æµ‹è¯•ä¸²å£è¿æ¥</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">serial</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ser</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">&#39;COM3&#39;</span><span class="p">,</span> <span class="mi">9600</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Windows</span>
    <span class="c1"># ser = serial.Serial(&#39;/dev/ttyUSB0&#39;, 9600, timeout=1)  # Linux</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âœ… ä¸²å£è¿æ¥æˆåŠŸ&quot;</span><span class="p">)</span>
    <span class="n">ser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;âŒ ä¸²å£è¿æ¥å¤±è´¥: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id42" role="doc-backlink">ç½‘ç»œé—®é¢˜è¯Šæ–­</a><a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h3>
<p><strong>æµ‹è¯•TCPè¿æ¥</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">socket</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_tcp_connection</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
        <span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
        <span class="n">sock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">if</span> <span class="n">test_tcp_connection</span><span class="p">(</span><span class="s1">&#39;192.168.1.100&#39;</span><span class="p">,</span> <span class="mi">502</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âœ… TCPè¿æ¥æ­£å¸¸&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âŒ TCPè¿æ¥å¤±è´¥&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="id21">
<h2><a class="toc-backref" href="#id43" role="doc-backlink">æ€§èƒ½è°ƒä¼˜</a><a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h2>
<section id="id22">
<h3><a class="toc-backref" href="#id44" role="doc-backlink">ç”Ÿäº§ç¯å¢ƒé…ç½®</a><a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ¨èçš„ç”Ÿäº§ç¯å¢ƒé…ç½®</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">modbuslink</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncModbusClient</span><span class="p">,</span> <span class="n">AsyncTcpTransport</span>

<span class="c1"># è¿æ¥æ± é…ç½®</span>
<span class="n">transport</span> <span class="o">=</span> <span class="n">AsyncTcpTransport</span><span class="p">(</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;192.168.1.100&#39;</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="mi">502</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>           <span class="c1"># é€‚ä¸­çš„è¶…æ—¶æ—¶é—´</span>
    <span class="n">connect_timeout</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span>   <span class="c1"># è¿æ¥è¶…æ—¶</span>
    <span class="n">keepalive</span><span class="o">=</span><span class="kc">True</span>         <span class="c1"># ä¿æŒè¿æ¥æ´»è·ƒ</span>
<span class="p">)</span>

<span class="c1"># å¼‚æ­¥äº‹ä»¶å¾ªç¯ä¼˜åŒ–</span>
<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">asyncio</span><span class="p">,</span> <span class="s1">&#39;WindowsSelectorEventLoopPolicy&#39;</span><span class="p">):</span>
    <span class="c1"># Windowsä¼˜åŒ–</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">set_event_loop_policy</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">WindowsSelectorEventLoopPolicy</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id45" role="doc-backlink">å†…å­˜ä¼˜åŒ–</a><a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># å¯¹äºå¤§é‡æ•°æ®è¯»å–ï¼Œä½¿ç”¨æ‰¹é‡æ“ä½œ</span>
<span class="n">registers</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">read_holding_registers</span><span class="p">(</span>
    <span class="n">slave_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">start_address</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">quantity</span><span class="o">=</span><span class="mi">100</span>  <span class="c1"># ä¸€æ¬¡è¯»å–å¤šä¸ªå¯„å­˜å™¨</span>
<span class="p">)</span>

<span class="c1"># é¿å…é¢‘ç¹åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡</span>
<span class="c1"># ä½¿ç”¨è¿æ¥æ± æˆ–é•¿è¿æ¥</span>
</pre></div>
</div>
</section>
</section>
<section id="id24">
<h2><a class="toc-backref" href="#id46" role="doc-backlink">å‡çº§æŒ‡å—</a><a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h2>
<section id="id25">
<h3><a class="toc-backref" href="#id47" role="doc-backlink">ä»æ—§ç‰ˆæœ¬å‡çº§</a><a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</span>
pip<span class="w"> </span>show<span class="w"> </span>modbuslink

<span class="c1"># å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>modbuslink

<span class="c1"># å‡çº§åˆ°ç‰¹å®šç‰ˆæœ¬</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span><span class="nv">modbuslink</span><span class="o">==</span><span class="m">2</span>.0.0
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">è­¦å‘Š</p>
<p>å‡çº§å‰è¯·æŸ¥çœ‹ <span class="xref std std-doc">changelog</span> äº†è§£ç ´åæ€§å˜æ›´ã€‚</p>
</div>
</section>
</section>
<section id="id26">
<h2><a class="toc-backref" href="#id48" role="doc-backlink">ä¸‹ä¸€æ­¥</a><a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h2>
<p>å®‰è£…å®Œæˆåï¼Œå»ºè®®æ‚¨ï¼š</p>
<ol class="arabic simple">
<li><p>ğŸ“– é˜…è¯» <a class="reference internal" href="quickstart.html"><span class="doc">å¿«é€Ÿå¼€å§‹</span></a> å¿«é€Ÿå…¥é—¨æŒ‡å—</p></li>
<li><p>ğŸ—ï¸ äº†è§£ <a class="reference internal" href="architecture.html"><span class="doc">æ¶æ„è®¾è®¡</span></a> æ¶æ„è®¾è®¡</p></li>
<li><p>ğŸ’¡ æŸ¥çœ‹ <a class="reference internal" href="examples.html"><span class="doc">ç¤ºä¾‹</span></a> å®é™…ç¤ºä¾‹</p></li>
<li><p>ğŸ“š å‚è€ƒ <a class="reference internal" href="api_reference.html"><span class="doc">API å‚è€ƒ</span></a> APIæ–‡æ¡£</p></li>
</ol>
<p>å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ <a class="reference internal" href="troubleshooting.html"><span class="doc">æ•…éšœæ’é™¤æŒ‡å—</span></a> æˆ–åœ¨GitHubæäº¤Issueã€‚</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="é¡µè„š">
        <a href="index.html" class="btn btn-neutral float-left" title="ModbusLink æ–‡æ¡£" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
        <a href="quickstart.html" class="btn btn-neutral float-right" title="å¿«é€Ÿå¼€å§‹" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2025, Miraitowaã€‚</p>
  </div>

  åˆ©ç”¨ <a href="https://www.sphinx-doc.org/">Sphinx</a> æ„å»ºï¼Œä½¿ç”¨çš„ 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">ä¸»é¢˜</a>
    ç”± <a href="https://readthedocs.org">Read the Docs</a> å¼€å‘.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>